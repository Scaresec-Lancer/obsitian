 ![image-20220905150126309](https://pic.imgdb.cn/item/63159f0516f2c2beb1498cc0.png)

## 1.1 微机特点与发展

微型机的主要特点：

- 体积小、重量轻
- 价格低廉
- 可靠性高、结构灵活
- 应用面广

## 1.2 微型计算机分类

按规模分类，微型机分为单片机、个人计算机、笔记本电脑和掌上电脑

按微处理器的字长分类，分为4位、8位、16位、32位微处理器

## 1.3 微处理器、微型计算机和微型计算机系统

**微处理器**

CPU功能：

- 进行算术和逻辑运算
- 保存少量数据
- 能对指令进行译码并执行规定的动作
- 能和存储器、外设交换数据
- 提供整个系统所需要的定时和控制
- 可以响应其他部件发来的中断请求



CPU内部：

- 算术逻辑部件
- 累加器和寄存器组
- 控制器



系统软件包括操作系统、一系列语言处理程序和数据库

操作系统具有以下功能：

- CPU的运行和管理

- 文件管理
- 存储器管理
- 设备管理
- 人机界面
- 程序员界面

![image-20220906001935247](https://pic.imgdb.cn/item/631621cf16f2c2beb1e614d2.png)

**微型计算机**

微型计算机由CPU、存储器、输入/输出接口和系统总线构成，就是通常所说的主机

**微型计算机系统**

以微型计算机为主体，配上系统软件、应用软件和外设后就成了微型计算机系统

操作系统功能：

- CPU的运行和管理
- 文件管理
- 存储器管理
- 设备管理
- 人机界面
- 程序员界面

## 1.4 微型计算机的应用

- 科学计算
- 信息处理
- 过程控制
- 仪器、仪表控制
- 家用电器和民用产品控制

## 1.5 微型计算机的性能指标

微处理器的性能指标最重要的是：

- 字长。CPU能同时处理的数据位数，也称为数据宽度，字长越长速度越快
- 主频。CPU的时钟频率，和CPU的运算速度密切相关，主频越高运算速度越快



主要性能指标：

- CPU的位数。位数越多功能越强，主存能配置的容量越大
- CPU的主频。决定了计算机系统的运算速度
- 内存容量和速度。内存容量越大，信息处理能力越强，运算速度越快
- 硬盘容量。容量越大，系统中可存放的信息越多，使用越方便

## 2.1 8086的编程结构

8086是16位微处理器，有16跟数据线和20跟地址线，寻址能力是1MB。

从功能上看8086分为总线接口部件 BIU 和执行部件 EU

![](https://pic.imgdb.cn/item/6316248316f2c2beb1e8833b.png)

**总线接口部件**

总线接口部件的功能是负责与存储器、I/O端口传送数据。8086的总线接口由下列各部分组成：

一、4个段地址寄存器

- CS：16位的代码段寄存器
- DS：16位的数据段寄存器
- ES：16位的附加段寄存器
- SS：16位的堆栈段寄存器

二、16位的指令指针寄存器 IP

三、20位的地址加法器

四、6字节的指令队列缓冲器



对总线接口部件说明两点：

- 8086指令队列为6字节，CPU在执行指令时，从内存中取出下面1条或几条指令放在指令队列中，执行完一条就可以立刻执行下一条，提高了效率
- 地址加法器用来产生20位地址



**执行部件**

执行部件由以下几部分组成：

- 4个通用寄存器 AX BX CX DX
- 4个专用寄存器，基数指针寄存器 BP、堆栈指针寄存器 SP、源变址寄存器 SI、目的变址寄存器 DI
- 标志寄存器 FR
- 算术逻辑部件 ALU



对执行部件有4点说明：

- 4个通用寄存器即可作为16位寄存器使用，也可拆成8位寄存器使用，比如 AX 分为 AH 和 AL
- AX 寄存器也称为累加器
- 算术逻辑部件实现算术运算和逻辑运算
- 8086的标志寄存器共16位，各位含义如下：![image-20220906004743808](https://pic.imgdb.cn/item/6316286f16f2c2beb1ebcba4.png)

根据功能，8086的标志分为两类：状态标志和控制标志

状态标志：

- 符号标志 SF。指出运算结果是正是负
- 零标志 ZF。运算结果为零为1，非零为0
- 奇/偶标志 PF。
- 进位标志 CF。加法产生进位或减法借位时，CF 为1
- 辅助进位标志 AF。加法运算时，如果第3位往第4位有进位或减法运算的借位，AF 为1
- 溢出标志 OF。运算过程中产生一处会使 OF 为1



控制标志：

- 方向标志 DF。控制串操作指令用的标志，如果 DF 为0，串操作过程中地址会不断增值，反之地址不断减值
- 中断允许标志 IF。控制可屏蔽中断的标志，如果 IF 为0，则CPU不能响应可屏蔽中断请求
- 跟踪标志 TF。也称单步标志，如果TF为1，CPU按跟踪方式执行指令



**8086的总线周期**

为了取得指令或传送数据，就需要CPU的总线接口执行一个总线周期。在8086中，一个最基本的总线周期由4个时钟周期组成

- T1状态，CPU往多路复用总线上发出地址信息，指出要寻址的存储单元或外设端口的地址
- T2状态，CPU从总线上撤销地址，使总线的低16位浮置为高阻状态，为传输数据作准备，总线的最高4位（A19 ~ A16）用来输出本总线周期状态信息，表示中断允许状态、正在使用的段寄存器名等
- T3状态，多路总线的高4位继续提供状态信息，低16位上出现由CPU写出的数据或CPU从存储器或端口读入的数据
- 由于外设或存储器速度较慢，常常不能及时传送数据，存储器或外设会在T3状态启动前向CPU发一个 “数据未准备好” 信号，CPU会在T3后插入1个或多个附加的时钟周期Tw，当存储器或外设完成数据传送时发送 “准备好” 信号，CPU接到后会自动脱离Tw状态从而进入T4状态。
- T4状态，总线周期结束

![image-20220906010741467](https://pic.imgdb.cn/item/63162d1d16f2c2beb1f0bb9a.png)

### 2.1.2 8086的引脚信号和工作模式

**最小模式和最大模式的概念**

为适应各种场合，设计8086可在最小模式和最大模式运行，在哪个模式运行完全由硬件连线决定。

最小模式就是在系统中只有8086一个微处理器，所有总线控制信号都由8086产生；最大模式中，包含两个或多个CPU，其中一个主处理器是8086，其他的协处理器协调主处理器工作（数值运算协处理器8087和输入/输出协处理器8089）

8087是专用于数值运算的处理器，它能实现多种类型的数值操作，比如高精度的整数和浮点运算，也可以进行超越函数（如三角函数、对数函数）的计算。

8089有一套专门用于输入/输出操作的指令系统，可直接为输人/输出设备服务，使8086不再承担这类工作。所以，在系统中增加协处理器8089后，会明显提高主处理器的效率，尤其是在输入/输出频繁的场合。

8086到底工作在最大模式还是最小模式，这完全由硬件连线决定。

**8086的引脚信号和功能**

- 8086的数据线和地址线是复用的，正是分时使用才能使8086用40条引脚实现20位地址、16位数据及众多的控制信号和状态信号的传输。
- 8086有16根数据线，可用高8位数据线传送1个字节，也可用低8位数据线传送1个字节，还可一次传送1个字，BHE信号就是用来区分这几类传输的。
- RESET是系统复位信号。大部分计算机系统中都有对系统进行启动的复位线，复位线和系统中所有的部件相连。在系统开机时，有一个脉冲发送到复位线上，表示系统进行启动，此时，CPU和各部件都会接收到这个复位脉冲；此外，在操作员按下RESET键时，也会有一个复位脉冲发送到复位线上，使系统重新启动。

> 在8086系统中，CPU被启动后，处理器的标志寄存器、指令指针寄存器IP、段寄存器DS、SS、ES和指令队列都被清除，但是代码段寄存器CS被设置为FFFFH。因为IP=0000,而CS=FFFFH。所以，此后，8086将从地址FFFF0H开始执行指令。通常，在安排内存区域时，将高地址区作为只读存储区，而且，在FFFF0H单元开始的几个单元中放一条无条件转移指令，转到一个特定的程序中。这个程序往往实现系统初始化、引导操作系统等功能，这样的程序叫做引导和装配程序。

- READY是往CPU输入的“准备好”信号，内存或I/O接口以此告诉CPU,在下一个时钟周期中，将往总线上放一个数据，或者将从总线上取一个数据。
- RD非信号指出当前要执行一个输入操作即读操作，WR非信号表示要进行输出操作即写操作。这两个信号和M/IO信号合起来，区分当前进行的是CPU和内存之间的数据传输还是CPU和I/O接口之间的数据传输。要注意的是，输入和输出的方向都是站在CPU的角度来说的，一个数据从CPU出来，送到内存或外设，那就叫输出，或者叫发送，反过来则叫输人或者接收。
- 高4位地址和状态线复用。在一个时候，A19/S6~A16/S3引脚用来输出高4位地址，在另一个时候，则用来输出状态信息。



下面解释8086各引脚信号

- GND、Vcc：地和电源：8086用单一的+-5v电源
- AD15~AD0：地址/数据复用引脚，双向工作

需要特别指出，在8086系统中，常将AD。信号作为低8位数据的选通信号，因为每当CPU和偶地址单元或偶地址端口交换数据时，在T,状态，AD。引脚传送的地址信号必定为低电平，在其他状态，则用来传送数据。而CPU的传输特性决定了只要是和偶地址单元或偶地址端口交换数据，那么，CPU必定通过总线低8位即AD,~AD。传输数据。可见，如果在总线周期的T,状态，AD。为低电平，实际上就指示了在这一总线周期中，CPU将用总线
